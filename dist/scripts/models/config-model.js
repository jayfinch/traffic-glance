define(["require","backbone","lodash"],function(e){var n,t=e("backbone"),r=e("lodash"),i=t.Model.extend({defaults:{key:"no-key-defined",units:"mi",childViews:[]},url:function(){return this.relPath()+"config.json"},routes:function(){var e=/&rtp=([^&]+)/,n=/(\w*).([\d-.]+)_([\d-.]+)/,t=this.get("routes"),i=[];return r.each(t,function(t){var o=t.name,a=t.startTime,u=t.endTime,s=t.url,c=[],d=e.exec(t.url),l=d[1].split("~");r.each(l,function(e){var t=n.exec(e),r="pos"===t[1]?"wp":"vwp",i={type:r,coordLat:t[2],coordLong:t[3]};c.push(i)});var f={name:o,url:s,segments:c,startTime:a,endTime:u};i.push(f)}),i},relPath:function(){var e,n=window.location.pathname;return e="/"!==n?n.substring(0,n.indexOf("/",1)+1):n,e+(/\/$/.test(e)?"":"/")}});return i.instance=function(){return n?n:n=new i},i});
//# sourceMappingURL=config-model.js.map